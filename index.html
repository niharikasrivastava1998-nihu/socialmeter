<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Total Impact Calculator</title>
    
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Confetti Library -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        /* --- CSS: POP-ART NEO-BRUTALISM --- */
        :root {
            --bg-color: #ff9a9e;
            --card-bg: #ffffff;
            --border: 3px solid #000;
            --shadow: 8px 8px 0px #000;
        }

        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: var(--bg-color);
            background-image: radial-gradient(#fff 2px, transparent 2px);
            background-size: 30px 30px;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }

        /* --- FLOATING BACKGROUND --- */
        #bg-container {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1; pointer-events: none; overflow: hidden;
        }

        .float-icon {
            position: absolute; color: #000; opacity: 0.15;
            animation: floatUp linear infinite;
        }

        @keyframes floatUp {
            0% { transform: translateY(110vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.2; }
            90% { opacity: 0.2; }
            100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
        }

        /* --- APP CONTAINER --- */
        .app-container {
            position: relative; z-index: 10;
            background: var(--card-bg); border: var(--border); box-shadow: var(--shadow);
            width: 100%; max-width: 500px;
            border-radius: 12px; display: flex; flex-direction: column;
        }

        header {
            background: #ffd700; border-bottom: var(--border); padding: 15px;
            text-align: center; border-radius: 9px 9px 0 0;
        }

        h1 { margin: 0; font-weight: 900; text-transform: uppercase; font-size: 1.4rem; letter-spacing: -1px; }

        /* INPUT AREA */
        .calculator-area { padding: 20px; }

        .row { display: flex; gap: 10px; margin-bottom: 10px; }
        .col { flex: 1; }

        label {
            font-weight: 900; font-size: 0.7rem; text-transform: uppercase;
            display: block; margin-bottom: 5px;
        }

        input {
            width: 100%; padding: 10px; border: var(--border);
            font-family: inherit; font-weight: bold; font-size: 1rem;
            box-sizing: border-box; transition: 0.2s;
        }

        /* COLOR CODED INPUTS */
        #likes { background: #ffcdd2; }       /* Red tint */
        #comments { background: #fff9c4; }    /* Yellow tint */
        #shares { background: #e1bee7; }      /* Purple tint */
        #saves { background: #ffcc80; }       /* Orange tint */
        #views { background: #b2ebf2; }       /* Cyan tint */
        #reach { background: #c8e6c9; }       /* Green tint */
        #followers { background: #f0f0f0; border-width: 4px; }

        input:focus {
            background: #fff; outline: none; box-shadow: 4px 4px 0px #000;
            transform: translate(-2px, -2px);
        }

        /* BUTTON */
        .analyze-btn {
            width: 100%; background: #000; color: #fff;
            font-weight: 900; font-size: 1.2rem; padding: 15px;
            border: none; cursor: pointer; margin-top: 15px;
            box-shadow: 4px 4px 0px rgba(0,0,0,0.3); transition: 0.1s;
        }

        .analyze-btn:hover { background: #333; transform: translateY(-2px); }

        /* RESULTS */
        .results-box {
            display: none; margin-top: 20px; border: var(--border);
            background: #c6ff00; padding: 20px; text-align: center;
            box-shadow: inset 4px 4px 0px rgba(0,0,0,0.1);
        }

        .score-val { font-size: 2.5rem; font-weight: 900; line-height: 1; }
        .formula-hint { font-size: 0.7rem; margin-top: 5px; opacity: 0.7; }
        
        .score-msg {
            font-weight: bold; background: #000; color: #fff;
            display: inline-block; padding: 5px 15px; margin-top: 10px;
            transform: rotate(-2deg);
        }
    </style>
</head>
<body>

    <!-- BACKGROUND -->
    <div id="bg-container"></div>

    <!-- MAIN APP -->
    <div class="app-container">
        <header>
            <h1><i class="fa-solid fa-calculator"></i> Impact Calc</h1>
            <div style="font-size: 0.7rem; font-weight: bold; margin-top:5px;">(ALL METRICS / FOLLOWERS)</div>
        </header>

        <div class="calculator-area">
            
            <!-- Row 1: Interactions -->
            <div class="row">
                <div class="col">
                    <label><i class="fa-solid fa-heart"></i> Likes</label>
                    <input type="number" id="likes" placeholder="0">
                </div>
                <div class="col">
                    <label><i class="fa-solid fa-comment"></i> Comments</label>
                    <input type="number" id="comments" placeholder="0">
                </div>
            </div>

            <!-- Row 2: Distribution -->
            <div class="row">
                <div class="col">
                    <label><i class="fa-solid fa-share"></i> Shares/Reposts</label>
                    <input type="number" id="shares" placeholder="0">
                </div>
                <div class="col">
                    <label><i class="fa-solid fa-bookmark"></i> Saves</label>
                    <input type="number" id="saves" placeholder="0">
                </div>
            </div>

            <!-- Row 3: Visibility (New!) -->
            <div class="row">
                <div class="col">
                    <label><i class="fa-solid fa-eye"></i> Views / Imp.</label>
                    <input type="number" id="views" placeholder="0">
                </div>
                <div class="col">
                    <label><i class="fa-solid fa-tower-broadcast"></i> Reach</label>
                    <input type="number" id="reach" placeholder="0">
                </div>
            </div>

            <!-- Row 4: Base -->
            <div class="col" style="margin-top: 10px;">
                <label><i class="fa-solid fa-users"></i> Total Followers</label>
                <input type="number" id="followers" placeholder="Required for calculation">
            </div>

            <button class="analyze-btn" onclick="calculate()">CALCULATE IMPACT</button>

            <!-- RESULT -->
            <div id="result" class="results-box">
                <div style="font-size: 0.8rem; font-weight: bold; text-transform: uppercase;">Engagement Score</div>
                <div class="score-val" id="final-score">0.0%</div>
                <div class="formula-hint">(Sum of all metrics / Followers)</div>
                <div class="score-msg" id="final-msg">Calculating...</div>
            </div>

        </div>
    </div>

    <script>
        // --- 1. FLOATING BACKGROUND ---
        function createFloatingIcons() {
            const container = document.getElementById('bg-container');
            const brandIcons = ['fa-instagram', 'fa-linkedin-in', 'fa-tiktok', 'fa-youtube', 'fa-twitter'];
            const solidIcons = ['fa-heart', 'fa-thumbs-up', 'fa-bolt', 'fa-star', 'fa-comment', 'fa-fire', 'fa-eye'];

            for(let i=0; i<25; i++) {
                const el = document.createElement('i');
                const isBrand = Math.random() > 0.5;
                const iconList = isBrand ? brandIcons : solidIcons;
                const randomIcon = iconList[Math.floor(Math.random() * iconList.length)];

                el.classList.add(isBrand ? 'fa-brands' : 'fa-solid', randomIcon, 'float-icon');
                el.style.fontSize = (Math.random() * 2 + 1) + 'rem';
                el.style.left = Math.random() * 95 + '%';
                el.style.animationDuration = (Math.random() * 15 + 10) + 's';
                el.style.animationDelay = Math.random() * 10 + 's';
                
                container.appendChild(el);
            }
        }
        createFloatingIcons();

        // --- 2. CALCULATION LOGIC ---
        function calculate() {
            // Get all inputs (default to 0 if empty)
            const likes = parseFloat(document.getElementById('likes').value) || 0;
            const comments = parseFloat(document.getElementById('comments').value) || 0;
            const shares = parseFloat(document.getElementById('shares').value) || 0;
            const saves = parseFloat(document.getElementById('saves').value) || 0;
            const views = parseFloat(document.getElementById('views').value) || 0;
            const reach = parseFloat(document.getElementById('reach').value) || 0;
            const followers = parseFloat(document.getElementById('followers').value) || 0;

            if (followers === 0) {
                alert("Followers count cannot be zero!");
                return;
            }

            // FORMULA: (Likes + Comments + Shares + Saves + Views + Reach) / Followers
            const totalImpact = likes + comments + shares + saves + views + reach;
            const rate = (totalImpact / followers) * 100;
            const displayRate = rate.toFixed(2);

            // Update UI
            const resBox = document.getElementById('result');
            const scoreText = document.getElementById('final-score');
            const msgText = document.getElementById('final-msg');

            resBox.style.display = 'block';
            scoreText.innerText = displayRate + "%";

            // Thresholds
            const VIRAL_THRESHOLD = 35.0; 
            
            if(rate >= VIRAL_THRESHOLD) {
                msgText.innerText = "üöÄ MASSIVE VIRAL!";
                resBox.style.background = "#d500f9"; // Purple
                resBox.style.color = "#fff";
                triggerConfetti();
            } else if (rate > 10) {
                msgText.innerText = "üî• High Impact";
                resBox.style.background = "#c6ff00"; // Lime
                resBox.style.color = "#000";
            } else if (rate > 2) {
                msgText.innerText = "üëç Good Reach";
                resBox.style.background = "#fff9c4"; // Yellow
                resBox.style.color = "#000";
            } else {
                msgText.innerText = "üí§ Low Impact";
                resBox.style.background = "#e0e0e0"; // Grey
                resBox.style.color = "#000";
            }
        }

        function triggerConfetti() {
            var duration = 3 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 100 };

            var random = function(min, max) { return Math.random() * (max - min) + min; }

            var interval = setInterval(function() {
                var timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) return clearInterval(interval);

                var particleCount = 50 * (timeLeft / duration);
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: random(0.1, 0.3), y: Math.random() - 0.2 } }));
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: random(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);
        }
    </script>
</body>
</html>
